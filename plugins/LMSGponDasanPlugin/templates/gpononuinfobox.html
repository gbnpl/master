<!--// $Id$ //-->
{$xajax}
<TABLE WIDTH="100%" CELLPADDING="3">
	<TR {if $devicepanel} class="dark hand" onClick="showOrHide('devicepanel');"{else} class="dark"{/if}>
		<TD WIDTH="1%" class="fleftu">
			<IMG SRC="img/{LMSGponDasanPlugin::plugin_directory_name}/gpononu.gif" ALT="">
		</TD>
		<TD WIDTH="99%" class="frightu">
			<B>{$netdevinfo.name} ({$netdevinfo.id|string_format:"%04d"})</B>
		</TD>
	</TR>
	
	<TR class="light"{if $devicepanel} id="devicepanel" style="display:none;"{/if}>
	        <TD WIDTH="100%" COLSPAN="2"{if $devicepanel} class="fall" ALIGN="RIGHT"{else}class="flr"{/if}>
			<TABLE WIDTH="100%" CELLPADDING="0">
				<TR class="light">
					<TD WIDTH="50%" style="vertical-align:top;">
						<TABLE WIDTH="100%" CELLPADDING="3">
						<TR class="light">
		<TD WIDTH="1%">
			 <IMG SRC="img/{LMSGponDasanPlugin::plugin_directory_name}/gpononu.gif" ALT="">
		</TD>
		<TD WIDTH="1%">
		        <B>ONU ID:</B>
		</TD>
		<TD WIDTH="98%">
		       <b>{$netdevinfo.onuid}</b>
		</TD>
	</TR>
	<TR class="light">
		<TD style="width: 1%;">
			<IMG SRC="img/settings.gif" ALT="">
		</TD>
		<TD style="width: 1%;" class="bold nobr">
			Wydany do klienta:
		</TD>
		<TD style="width: 98%;">
			{if $netdevinfo.autoprovisioning == 1}{trans("yes")}{else}{trans("no")}{/if}
		</TD>
	</TR>
	<TR class="light">
		<TD style="width: 1%;">
			<IMG SRC="img/settings.gif" ALT="">
		</TD>
		<TD style="width: 1%;" class="bold nobr">
			{trans("XML provisioning:")}
		</TD>
		<TD style="width: 98%;">
			{if $netdevinfo.xmlprovisioning}{trans("yes")}{else}{trans("no")}{/if}
		</TD>
	</TR>
	<TR class="light">
		<TD WIDTH="1%">
			<IMG SRC="img/settings.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>Profil:</B>
		</TD>
		<TD WIDTH="98%">
			{$netdevinfo.profil_olt}
		</TD>
	</TR>
	
						{if $netdevinfo.producer}
	<TR class="light">
		<TD WIDTH="1%">
			<IMG SRC="img/producer.gif" ALT="">
		</TD>
		<TD WIDTH="1%">
		        <B>{trans("Producer:")}</B>
		</TD>
		<TD WIDTH="98%">
		        {$netdevinfo.producer}
		</TD>
	</TR>
	{/if}
	{if $netdevinfo.model}
	<TR class="light">
		<TD WIDTH="1%">
			<IMG SRC="img/{LMSGponDasanPlugin::plugin_directory_name}/gpononu_model.gif" ALT="">
		</TD>
		<TD WIDTH="1%">
		        <B>{trans("Model:")}</B>
		</TD>
		<TD WIDTH="98%">
		        {$netdevinfo.model}
		</TD>
	</TR>
	{/if}
	<TR class="light">
		<TD WIDTH="1%">
			<IMG SRC="img/passwd.gif" ALT="">
		</TD>
		<TD WIDTH="1%">
		        <B>{trans("Password:")}</B>
		</TD>
		<TD WIDTH="98%">
		        {if $netdevinfo.password eq ''}(auto-learning){else}{$netdevinfo.password}{/if}
		</TD>
	</TR>
	{if $netdevinfo.onudescription}
	<TR class="light">
		<TD WIDTH="1%">
			<IMG SRC="img/{LMSGponDasanPlugin::plugin_directory_name}/gpononu.gif" ALT="">
		</TD>
		<TD WIDTH="1%">
			<B>ONU description:</B>
		<TD WIDTH="98%">
		{$netdevinfo.onudescription}
		</TD>
	</TR>
	{/if}
	<TR class="light">
		<TD style="width: 1%;">
			<IMG SRC="img/netdev.gif" ALT="">
		</TD>
		<TD style="width: 1%;" class="bold nobr">
			{trans("Network device:")}
		</TD>
		<TD style="width: 98%;">
			{if $netdevinfo.netdevid}
			<A href="?m=netdevinfo&id={$netdevinfo.netdevid}">{$netdevinfo.netdevname}</A>
			{else}
			{trans("- none -")}
			{/if}
		</TD>
	</TR>

	<TR class="light">
		<TD WIDTH="1%">
			<IMG SRC="img/customer.gif" ALT="{trans("Customer:")}">
		</TD>
		<TD WIDTH="99%" COLSPAN="2">
		<ol>
			{foreach from=$gpononu2customers item=c}
				<li><a href="?m=customerinfo&id={$c.customersid}">{$c.customersname}</a></li>
				{/foreach}
				</ol>
		</TD>
	</TR>                      	</TABLE>
	{if isset($netdevinfo.portdetails.pots.portscount)}
	<table id="show_voip">
		<TR class="light">
			<TD WIDTH="1%">
				<IMG SRC="img/voip.gif" ALT="">
			</TD>
			<TD WIDTH="1%" NOWRAP>
				<B>VoIP:</B>
			</TD>
			<TD WIDTH="98%" id="ONU_Voip_Phone" align="left">
				<table>
				<tr><td align="right">1.</td><td>{$netdevinfo.voipaccountsid1_phone}</td></tr>
				<tr><td align="right">2.</td><td>{$netdevinfo.voipaccountsid2_phone}</td></tr>
				</table>
			</TD>
		</TR>
	</table>
	{/if}
	<table>
	<TR class="light">
		<TD WIDTH="1%">
			<IMG SRC="img/node.gif" ALT="">
		</TD>
		<TD WIDTH="1%" NOWRAP>
			<B>Host:</B>
		</TD>
		<TD WIDTH="98%" id="ONU_Host_id" align="left">
			<table>
			<tr><td align="right">1.</td><td>{$netdevinfo.host_id1_host}</td></tr>
			<tr><td align="right">2.</td><td>{$netdevinfo.host_id2_host}</td></tr>
			</table>
		</TD>
	</TR> 
	{if $onulastauth}
	<TR class="light">
		<TD WIDTH="1%">
			<IMG SRC="img/radius.gif" ALT="">
		</TD>
		<TD WIDTH="99%" NOWRAP colspan="2">
			<B>Ostatnie autoryzacje radius:</B>
		</TD>
	</tr>
	<TR class="light">
	    <td colspan="3">
		<table border="1" CELLPADDING="3">
		<tr class="dark">
		    <td align="center">Czas:</td><td align="center">NAS IP:</td><td align="center">Olt Id:</td><td align="center">Onu Id:</td><td align="center">Version:</td>
		</tr>
		{section name=onulastauth loop=$onulastauth max=15} {* jest sens to konfigurowac? *}
		    <tr>
			<td>{$onulastauth[onulastauth].time}</td>
			<td>{$onulastauth[onulastauth].nas}</td>
			<td align="right">{$onulastauth[onulastauth].oltport}</td>
			<td align="right">{$onulastauth[onulastauth].onuoltid}</td>
			<td>{$onulastauth[onulastauth].version}</td>
		    </tr>
		{/section}
		</table>
	    </td>
	</TR>
	{/if}
		</TABLE>
				</TD>
				<TD WIDTH="50%" style="vertical-align:top;">
				        <TABLE WIDTH="100%" CELLPADDING="3">
		{if $netdevinfo.xmlprovisioning && isset($netdevinfo.portdetails.wifi.portscount)}
		{if $netdevinfo.properties.wifi_ssid || $netdevinfo.properties.wifi_password}
		<TR class="light">
			<TD colspan="3">
				<fieldset style="width: 1%;" class="nobr">
					<legend class="bold"><IMG SRC="img/wireless.gif" ALT=""> {trans("WiFi settings")}</legend>
					<table cellpadding="2">
						<tr>
							<TD class="bold nobr">
								{trans("SSID:")}
							</TD>
							<TD>
								{$netdevinfo.properties.wifi_ssid}
							</TD>
						</tr>
						<tr>
							<TD class="bold nobr">
								{trans("Password:")}
							</TD>
							<TD>
								{$netdevinfo.properties.wifi_password}
							</TD>
						</tr>
					</table>
				</fieldset>
			</TD>
		</TR>
		{/if}
		{/if}
		{if $netdevinfo.xmlprovisioning && $netdevinfo.portsettings}
		<TR class="light">
			<TD style="width: 1%;">
				<IMG SRC="img/{LMSGponDasanPlugin::plugin_directory_name}/gpononu_takenports.gif" ALT="">
			</TD>
			<TD style="width: 1%;" class="bold nobr">
				{trans("<!gpon-dasan>Ports:")}
			</TD>
			<TD style="width: 98%;" id="ONU_Host_id" class="text-left">
				<table CELLPADDING="2" border="1" rules="cols">
					<tr class="dark">
						<td class="bold">{trans("Port")}</td>
						<td class="bold">{trans("<!gpon-dasan>Administrative status")}</td>
					</tr>
					{foreach $netdevinfo.portsettings as $port}
					<tr>
						<td class="text-right">
							{$port.name}.{$port.portid}
						</td>
						<td class="text-center">
							{if $port.portdisable}{trans("- down -")}{else}{trans("- up -")}{/if}
						</td>
					</tr>
					{/foreach}
				</table>
			</TD>
		</TR>
		{/if}
        <TR class="light">
                <TD WIDTH="1%">
                        <IMG SRC="img/users.gif" ALT="">
                </TD>
                <TD WIDTH="1%" NOWRAP>
                        <B>{trans("Created:")}<BR>
                        {trans("Modified:")}</B>
                </TD>
                <TD WIDTH="98%">
                        {if $netdevinfo.creationdate}{$netdevinfo.createdby}, {$netdevinfo.creationdateh}{else} ? {/if}<BR>
                        {if $netdevinfo.moddate}{$netdevinfo.modifiedby}, {$netdevinfo.moddateh}{else}-{/if}
                </TD>
        </TR>

        {if $netdevinfo.gponoltid gt 0}
	<TR class="light">
		<TD WIDTH="100%" COLSPAN="3">
		    Historia sygnału 1490nm/<font color="#00c080">1310nm</font> odbieranego na ONU/OLT (RxPower):
			{if $netdevinfo.rrd == 1}
			    <a href="?m=gpononuinfo&id={$netdevinfo.id}&rrd=0"> <img src="?m=gpononusignalimage&id={$netdevinfo.id}" alt="wykres sygnału" /></a>  
			{else}
			    <a href="?m=gpononuinfo&id={$netdevinfo.id}&rrd=1"> <img src="?m=gpononusignalimage&id={$netdevinfo.id}" alt="wykres sygnału" /></a>  
			{/if}
		</TD>
	</TR>
        <TR class="light">
                <TD WIDTH="100%" COLSPAN="3">
                        <input type="button" value="Pokaż parametry" id="pokaz_parametry_{$netdevinfo.id}" OnClick="xajax_ONU_get_param_Xj({$netdevinfo.gponoltid},{$netdevinfo.gponoltnumport},{$netdevinfo.onuid},{$netdevinfo.id},'{$netdevinfo.name}');" /> <input style="display:none;" type="button" value="Odśwież parametry" id="odswiez_parametry_{$netdevinfo.id}" OnClick="xajax_ONU_get_param_Xj({$netdevinfo.gponoltid},{$netdevinfo.gponoltnumport},{$netdevinfo.onuid},{$netdevinfo.id},'{$netdevinfo.name}');" />
                        <div id="ONU_param_{$netdevinfo.id}"></div>
                </TD>
        </TR>
        {/if}
	                                        </TABLE>
					</TD>
				</TR>
			</TABLE>
{if !$devicepanel}
    		</TD>
	</TR>
	<TR class="light">
	        <TD WIDTH="100%" COLSPAN="2" class="fbottomu" ALIGN="RIGHT">
{/if}
			{if ConfigHelper::checkConfig('gpon-dasan.use_radius')}
			<a id="disconnectbutton" onclick="if (confirm('{trans("Are you sure you want to disconnect ONU?")}')) { this.style.display = 'none'; xajax_ONU_radius_disconnect({$netdevinfo.id}); } else return false;">{trans("<!gpon-dasan>Disconnect")} <IMG SRC="img/radius.gif" ALT=""></a>
			{/if}
			{if $netdevinfo.xmlprovisioning}
			<a id="xmlprovisioningbutton"  onclick="if (confirm('{trans("Are you sure you want to make XML provisioning for ONU?")}')) { this.style.display = 'none'; xajax_ONU_xml_provisioning({$netdevinfo.id}); } else return false;">{trans("XML provisioning")} <IMG SRC="img/{LMSGponDasanPlugin::plugin_directory_name}/gpononu.gif" ALT=""></a>
			{/if}
			<a id="resetbutton"  onclick="if (confirm('{trans("Are you sure you want to reset ONU?")}')) { this.style.display = 'none'; xajax_ONU_reset({$netdevinfo.id}); } else return false;">{trans("<!gpon-dasan>Reset")} <IMG SRC="img/reload.gif" ALT=""></a>
			<A href="?m=gpononuedit&id={$netdevinfo.id}" ACCESSKEY="E">{trans("Edit")} <IMG src="img/edit.gif" ALT="[ {trans("Edit")} ]"></A>
			<A href="?m=gpononudel&id={$netdevinfo.id}" OnClick="return confirmLink(this, '{t a=$netdevinfo.name}Are you sure, you want to remove device \'$a\' from database?{/t}');">{trans("Delete")} <img src="img/delete.gif" ALT=""></A>
		</TD>
	</TR>
</TABLE>
{if $devicepanel}
<SCRIPT type="text/javascript">
<!--
if(getCookie('devicepanel')=='1')
        document.getElementById('devicepanel').style.display = '';
//-->
</SCRIPT>
{/if}
